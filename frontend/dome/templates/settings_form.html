{% extends "base.html" %}

{% block content %}
<h1>Settings</h1>

<!-- Display the success message if it exists -->
{% if message %}
    <p style="color: green;">{{ message }}</p>
{% endif %}

<div class="settings-section">
    <button class="collapsible">Client Settings</button>
    <div class="collapsible-content">
        <form method="post" action="{% url 'settings_view' %}">
            {% csrf_token %}
            <label for="ip">Client IP:</label>
            <input type="text" id="ip" name="ip" value="{{ settings.ip }}">
            <br>
            <label for="port">Client Port:</label>
            <input type="number" id="port" name="port" value="{{ settings.port }}">
            <br>
            <button type="submit">Save</button>
        </form>
    </div>
</div>

<!-- <div class="settings-section">
    <button class="collapsible">Other Settings</button>
    <div class="collapsible-content">
        <form method="post" action="{% url 'settings_view' %}">
            {% csrf_token %}
            <label for="option1">Option 1:</label>
            <input type="text" id="option1" name="option1" value="{{ settings.option1 }}">
            <br>
            <label for="option2">Option 2:</label>
            <input type="text" id="option2" name="option2" value="{{ settings.option2 }}">
            <br>
            <button type="submit">Save</button>
        </form>
    </div>
</div> -->

<script>
    const collapsibles = document.querySelectorAll('.collapsible');
    collapsibles.forEach(button => {
        button.addEventListener('click', () => {
            button.classList.toggle('active');
            const content = button.nextElementSibling;
            if (content.style.display === 'block') {
                content.style.display = 'none';
            } else {
                content.style.display = 'block';
            }
        });
    });
</script>
{% endblock %}